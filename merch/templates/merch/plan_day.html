<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <title>Home</title>


  </head>
    <style>
      .grad {
                background-image: linear-gradient(#659999,#f4791f);
                background-repeat: no-repeat;
                {#height: 100vh;#}
            }
    </style>


  {% extends 'merch/dashboard_nav.html' %}



  {% block content %}
    <body class="grad">

              <nav class="navbar bg-dark">
                  <div class="container-fluid">
                     <a href="/merch/dashboard" class="btn btn-outline-danger">Back</a>
                  </div>
              </nav>


        <div style="display: flex; flex-direction: row; flex-wrap: wrap">
            {% if stores %}
                <div style="display: flex; flex-direction: row; flex-wrap: wrap">
                 {% for store in stores %}
                    <div class="card text-white bg-dark"  style="width: 18rem; margin: 10px">
                     <div class="card-header">RSR Route #{{ store.RSRrt }}</div>
                      <div class="card-body">
                        <h5 class="card-title">{{ store.name }}{% if store.number %} #{{ store.number }} {% endif %}</h5>
                          <h6 class="card-subtitle mb-2 text-muted">{{ store.Address }}, {{ store.City }}</h6>
                          <button id="{{ store.id }}" type='button' class="btn btn-outline-warning" onclick='triggerPlan("{{ store.id }}","{{ docket.id }}")'>Plan</button>
                      </div>
                    </div>
                 {% endfor %}
                 </div>

            {% else %}
            <p>No stores are available.</p>
            {% endif %}
        </div>



<script type="text/javascript">

	function triggerPlan(store_id, docket_id) {

        Plan(store_id, docket_id)
        console.log(docket_id)

        let element = document.getElementById(store_id);
        element.setAttribute("hidden", "hidden");

    }

    function triggerUnhide(item_id){
       document.getElementById(item_id).removeAttribute("hidden");
       let element = document.getElementById(item_id);
        element.setAttribute("hidden", "hidden");
    }


</script>
            {% include 'merch/snippets/Plan.html' %}

        {% endblock content %}
    </body>
</html>
