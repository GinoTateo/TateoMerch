<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <title>TateoMerch</title>
  </head>

    <style>
      .grad {
                background-image: linear-gradient(#659999,#f4791f); /*#2657eb*/
                background-repeat: no-repeat;
                height: 100vh;;
            }
    </style>
    <body class="grad">
        {% extends 'navbar.html' %}
         {% block content %}
             {% if list %}
                 <div style="display: flex; flex-direction: row; flex-wrap: wrap">
                 {% for store in list %}

            <div class="card " style="width: 22rem; margin: 10px">
            <div class="card-header">Route #{{ store.RSRrt }}</div>
              <div class="card-body">
                <h5 class="card-title">{{ store.name }}{% if store.number %} #{{ store.number }} {% endif %}</h5>
                  <h6 class="card-subtitle mb-2 text-muted">{{ store.Address }}, {{ store.City }}</h6>

              <a href="{% url 'rsr:store-data' user.id store.id %}" class="btn btn-outline-primary">View</a>
              {% if not store.request %}
                <a href="/merch/merch_request/{{ user.id }}/{{ store.id }}" class="btn btn-outline-success">Request Merch</a>
                  {% else %}
                  <a href="/merch/cancel_merch_request/{{ user.id }}/{{ store.id }}" class="btn btn-outline-danger">Cancel Merch</a>
              {% endif %}
{#                <a href="{% url 'merch:send-merch-request' receiver_id=id store_id=store.id %}" class="btn btn-outline-primary">Request Merch</a>#}

{#                        <button id="id_send_friend_request_btn_{{request.sender.id}}" class="btn btn-outline-success" onclick='triggerSendMerchRequest("{{request.id}}")'>Accept</button>#}
{#                        <button id="id_cancel_{{request.sender.id}}" class="btn btn-outline-danger" onclick='triggerDeclineMerchRequest("{{request.id}}")'>Decline</button>#}

{#                  <form method="POST" action="{% url 'merch:merch-request' store.id user.id %}">#}
{#                     {% csrf_token %}#}
{#                        <button type="submit" name="action" class="btn btn-outline-success" value="accept"> Request</button>#}
{##}
{##}
{##}
{##}
{#                  <input type="submit" class="btn btn-primary" id="id_send_friend_request_btn" value="Request m">#}
{#</form>#}

{#                  <button class="btn btn-primary" type="button" id="id_send_friend_request_btn"> Request Merch </button>#}

              </div>
            </div>
             {% endfor %}
                 </div>
             {% else %}
                 <p>No stores are available.</p>
             {% endif %}
    </body>
</html>

{#{% include 'merch/snippets/send_merch_request.html' %}#}

{#<script type="text/javascript">#}
{##}
{#	function onMerchRequestSent(){#}
{#		location.reload();#}
{#	}#}
{##}
{#	function onMerchRequestCancelled(){#}
{#		location.reload();#}
{#	}#}
{##}
{#	function onMerchRemoved(){#}
{#		location.reload();#}
{#	}#}
{##}
{#	function onMerchRequestAccepted(){#}
{#		location.reload();#}
{#	}#}
{##}
{#	function onMerchRequestDeclined(){#}
{#		location.reload();#}
{#	}#}
{##}
{##}
{#	var sendMerchRequestBtn = document.getElementById("id_send_friend_request_btn")#}
{#	if (sendMerchRequestBtn != null){#}
{#		sendMerchRequestBtn.addEventListener("click", function(){#}
{#			sendMerchRequest("{{id}}", onMerchRequestSent)#}
{#		})#}
{#	}#}
{##}
{#	var cancelMerchRequestBtn = document.getElementById("id_cancel_merch_request_btn")#}
{#	if(cancelMerchRequestBtn != null){#}
{#		cancelMerchRequestBtn.addEventListener("click", function(){#}
{#			cancelMerchRequest("{{id}}", onMerchRequestCancelled)#}
{#		})#}
{#	}#}
{##}
{#	var removeMerchBtn = document.getElementById("id_unmerch_btn")#}
{#	if (removeMerchBtn != null){#}
{#		removeMerchBtn.addEventListener("click", function(){#}
{#			removeMerch("{{id}}", onMerchRemoved)#}
{#		})#}
{#	}#}
{##}
{#	function triggerAcceptMerchRequest(merch_request_id){#}
{#		acceptMerchRequest(merch_request_id, onMerchRequestAccepted)#}
{#	}#}
{##}
{#	function triggerDeclineMerchRequest(merch_request_id){#}
{#		declineMerchRequest(merch_request_id, onMerchRequestDeclined)#}
{#	}#}
{##}
{#</script>#}
{##}
{##}
{#{% include 'merch/snippets/accept_Merch_request.html' %}#}
{#{% include 'merch/snippets/decline_Merch_request.html' %}#}
{#{% include 'merch/snippets/cancel_Merch_request.html' %}#}
{#{% include 'merch/snippets/remove_Merch.html' %}#}
{#{% include 'chat/snippets/create_or_return_private_chat.html' %}#}



{% endblock content %}